{"ast":null,"code":"var _jsxFileName = \"/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/HomePage/HomeBody/ProviderGroup.js\",\n    _s = $RefreshSig$();\n\nimport \"./HomeBody.scss\";\nimport { Fragment, useState, useEffect } from \"react\";\nimport Carousel from \"react-multi-carousel\";\nimport \"react-multi-carousel/lib/styles.css\";\nimport { CustomButtonGroup } from \"./CustomButtonGroup\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport LazyLoad from \"react-lazyload\";\nimport { faCalendarPlus, faInfoCircle } from \"@fortawesome/fontawesome-free-solid\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { faHeart as faHeart2 } from \"@fortawesome/fontawesome-free-solid\";\nimport { faHeart as faHeart1 } from \"@fortawesome/fontawesome-free-regular\";\nimport { faGetPocket } from \"@fortawesome/free-brands-svg-icons\"; // skeleton\n\nimport ProviderGroupSkeleton from \"components/Skeleton/ProviderGroupSkeleton\"; // favorite\n\nimport { addFavoriteProvider, removeFavoriteProvider } from \"store/actions/UserAction/UserAction\";\nimport { propTypes } from \"react-map-gl-geocoder\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst responsive = {\n  desktop: {\n    breakpoint: {\n      max: 3000,\n      min: 1024\n    },\n    items: 4,\n    slidesToSlide: 4 // optional, default to 1.\n\n  },\n  tablet: {\n    breakpoint: {\n      max: 1024,\n      min: 464\n    },\n    items: 2,\n    slidesToSlide: 2 // optional, default to 1.\n\n  },\n  mobile: {\n    breakpoint: {\n      max: 464,\n      min: 0\n    },\n    items: 1,\n    slidesToSlide: 1 // optional, default to 1.\n\n  }\n};\n\nfunction ProviderGroup({\n  groupTitle,\n  groupDescription,\n  providerList,\n  setProviderList,\n  history,\n  ...rest\n}) {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const openTime = \"23:00:00\";\n  const closeTime = \"22:00:00\";\n  const [currentTime, setCurrentTime] = useState(new Date().toLocaleTimeString());\n\n  const changeFavorite = async (isFavorite, pid, e) => {\n    var _rest$user$profile;\n\n    e.stopPropagation();\n    if (((_rest$user$profile = rest.user.profile) === null || _rest$user$profile === void 0 ? void 0 : _rest$user$profile.user_id) === -1 || !pid) return;\n\n    if (isFavorite === true) {\n      let status = await rest.removeFavoriteProvider(rest.user.profile.user_id, pid);\n      setProviderList(prevState => prevState.map(item => item.provider_id === pid ? { ...item,\n        isFavorite: false\n      } : item));\n      console.log(providerList);\n      if (status) console.log(\"successfully removed from favorite list\");\n      return;\n    }\n\n    let status = await rest.addFavoriteProvider(rest.user.profile.user_id, pid);\n\n    if (status) {\n      console.log(\"successfully added to favorite list\");\n      console.log(providerList);\n      setProviderList(prevState => prevState.map(item => item.provider_id === pid ? { ...item,\n        isFavorite: true\n      } : item));\n      return;\n    }\n  };\n\n  const handleOnClickProvider = (e, id) => {\n    e.stopPropagation();\n    history.push(`/provider-detail/${id}`);\n  };\n\n  useEffect(() => {\n    if (providerList === null || providerList === void 0 ? void 0 : providerList.length) setLoading(true);\n  }, [providerList]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-product-row-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-product-row-title\",\n        children: [groupTitle || \"No title\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          className: \"sub-icon-title\",\n          icon: faInfoCircle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), groupDescription && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"home-product-description\",\n        children: groupDescription\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-product-slider\",\n        children: /*#__PURE__*/_jsxDEV(Carousel, {\n          swipeable: false,\n          draggable: false,\n          responsive: responsive,\n          ssr: true // means to render carousel on server-side.\n          ,\n          keyBoardControl: true,\n          containerClass: \"carousel-container\",\n          removeArrowOnDeviceType: [\"tablet\", \"mobile\"],\n          dotListClass: \"custom-dot-list-style\",\n          itemClass: \"carousel-item-padding-40-px\",\n          arrows: false,\n          customButtonGroup: /*#__PURE__*/_jsxDEV(CustomButtonGroup, {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"link-text\",\n              children: \"See more\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }, this),\n          renderButtonGroupOutside: true,\n          customTransition: \"transform 500ms ease-in-out\",\n          children: providerList === null || providerList === void 0 ? void 0 : providerList.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: e => handleOnClickProvider(e, item.provider_id),\n            children: [/*#__PURE__*/_jsxDEV(LazyLoad, {\n              style: {\n                width: \"100%\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"provider-card-container\",\n                style: {\n                  backgroundImage: `url(${item.profile_pic})`,\n                  backgroundPosition: \"center\",\n                  backgroundRepeat: \"no-repeat\",\n                  backgroundSize: \"cover\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"provider-interaction-wrapper\",\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    className: \"icon-for-liking\",\n                    style: {\n                      zIndex: 1,\n                      marginTop: 5\n                    },\n                    onClick: e => changeFavorite(item.isFavorite, item.provider_id, e),\n                    icon: item.isFavorite ? faHeart2 : faHeart1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 25\n                  }, this), !item.tag_name && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"provider-card-tag\",\n                    children: item.tag_name || \"3 orders until €5 reward\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 23\n                }, this), currentTime < closeTime && currentTime > openTime ? /*#__PURE__*/_jsxDEV(\"figcaption\", {\n                  className: \"figcaption-wrapper\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"btn-schedule-wrapper\",\n                    children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                      icon: faCalendarPlus,\n                      className: \"icon-btn\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Schedule order\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"a1-description\",\n                    children: \"Opens Saturday 2:15 PM\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Fragment, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 25\n                }, this)]\n              }, item.provider_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-info-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"p-info-main-text\",\n                children: item.provider_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-info-rating\",\n                children: item.rating || \"5.0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-sub-info-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faGetPocket,\n                className: \"sub-info-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 21\n              }, this), \"\\xA0\\u2022\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"p-sub-info-main-text\",\n                children: [\"$ \", item.price_range]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 21\n              }, this), \"\\xA0\\u2022\\xA0\", /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-sub-info-cooking-time\",\n                children: `${item.estimated_cooking_time} mins` || \"30-45 mins\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 21\n              }, this), \"\\xA0\\u2022\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"p-sub-info-main-text\",\n                children: [(item.distance / 1000).toFixed(2), \" km\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 19\n            }, this)]\n          }, item.provider_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(ProviderGroupSkeleton, {\n        col: 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProviderGroup, \"Vhpg+1bt4y52/UWU+f3Rr4WX49Q=\");\n\n_c = ProviderGroup;\nProviderGroup.propTypes = {\n  user: PropTypes.object.isRequired,\n  product: PropTypes.object.isRequired,\n  addFavoriteProvider: PropTypes.func.isRequired,\n  removeFavoriteProvider: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.UserReducer,\n  product: state.ProductReducer\n});\n\nexport default withRouter(connect(mapStateToProps, {\n  addFavoriteProvider,\n  removeFavoriteProvider\n})(ProviderGroup));\n\nvar _c;\n\n$RefreshReg$(_c, \"ProviderGroup\");","map":{"version":3,"sources":["/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/HomePage/HomeBody/ProviderGroup.js"],"names":["Fragment","useState","useEffect","Carousel","CustomButtonGroup","FontAwesomeIcon","LazyLoad","faCalendarPlus","faInfoCircle","PropTypes","connect","withRouter","faHeart","faHeart2","faHeart1","faGetPocket","ProviderGroupSkeleton","addFavoriteProvider","removeFavoriteProvider","propTypes","responsive","desktop","breakpoint","max","min","items","slidesToSlide","tablet","mobile","ProviderGroup","groupTitle","groupDescription","providerList","setProviderList","history","rest","loading","setLoading","openTime","closeTime","currentTime","setCurrentTime","Date","toLocaleTimeString","changeFavorite","isFavorite","pid","e","stopPropagation","user","profile","user_id","status","prevState","map","item","provider_id","console","log","handleOnClickProvider","id","push","length","width","backgroundImage","profile_pic","backgroundPosition","backgroundRepeat","backgroundSize","zIndex","marginTop","tag_name","provider_name","rating","price_range","estimated_cooking_time","distance","toFixed","object","isRequired","product","func","mapStateToProps","state","UserReducer","ProductReducer"],"mappings":"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","sourcesContent":["import \"./HomeBody.scss\";\nimport { Fragment, useState, useEffect } from \"react\";\nimport Carousel from \"react-multi-carousel\";\nimport \"react-multi-carousel/lib/styles.css\";\nimport { CustomButtonGroup } from \"./CustomButtonGroup\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport LazyLoad from \"react-lazyload\";\nimport {\n  faCalendarPlus,\n  faInfoCircle,\n} from \"@fortawesome/fontawesome-free-solid\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { faHeart as faHeart2 } from \"@fortawesome/fontawesome-free-solid\";\nimport { faHeart as faHeart1 } from \"@fortawesome/fontawesome-free-regular\";\nimport { faGetPocket } from \"@fortawesome/free-brands-svg-icons\";\n// skeleton\nimport ProviderGroupSkeleton from \"components/Skeleton/ProviderGroupSkeleton\";\n// favorite\nimport {\n  addFavoriteProvider,\n  removeFavoriteProvider,\n} from \"store/actions/UserAction/UserAction\";\nimport { propTypes } from \"react-map-gl-geocoder\";\n\nconst responsive = {\n  desktop: {\n    breakpoint: { max: 3000, min: 1024 },\n    items: 4,\n    slidesToSlide: 4, // optional, default to 1.\n  },\n  tablet: {\n    breakpoint: { max: 1024, min: 464 },\n    items: 2,\n    slidesToSlide: 2, // optional, default to 1.\n  },\n  mobile: {\n    breakpoint: { max: 464, min: 0 },\n    items: 1,\n    slidesToSlide: 1, // optional, default to 1.\n  },\n};\n\nfunction ProviderGroup({\n  groupTitle,\n  groupDescription,\n  providerList,\n  setProviderList,\n  history,\n  ...rest\n}) {\n  const [loading, setLoading] = useState(false);\n  const openTime = \"23:00:00\";\n  const closeTime = \"22:00:00\";\n  const [currentTime, setCurrentTime] = useState(\n    new Date().toLocaleTimeString()\n  );\n  const changeFavorite = async (isFavorite, pid, e) => {\n    e.stopPropagation();\n    if (rest.user.profile?.user_id === -1 || !pid) return;\n    if (isFavorite === true) {\n      let status = await rest.removeFavoriteProvider(\n        rest.user.profile.user_id,\n        pid\n      );\n      setProviderList((prevState) =>\n        prevState.map((item) =>\n          item.provider_id === pid ? { ...item, isFavorite: false } : item\n        )\n      );\n      console.log(providerList);\n      if (status) console.log(\"successfully removed from favorite list\");\n      return;\n    }\n    let status = await rest.addFavoriteProvider(rest.user.profile.user_id, pid);\n    if (status) {\n      console.log(\"successfully added to favorite list\");\n      console.log(providerList);\n      setProviderList((prevState) =>\n        prevState.map((item) =>\n          item.provider_id === pid ? { ...item, isFavorite: true } : item\n        )\n      );\n      return;\n    }\n  };\n  const handleOnClickProvider = (e, id) => {\n    e.stopPropagation();\n    history.push(`/provider-detail/${id}`);\n  };\n  useEffect(() => {\n    if (providerList?.length) setLoading(true);\n  }, [providerList]);\n\n  return (\n    <Fragment>\n      <div className=\"home-product-row-container\">\n        <div className=\"home-product-row-title\">\n          {groupTitle || \"No title\"}\n          <FontAwesomeIcon className=\"sub-icon-title\" icon={faInfoCircle} />\n        </div>\n        {groupDescription && (\n          <span className=\"home-product-description\">{groupDescription}</span>\n        )}\n        {loading ? (\n          <div className=\"home-product-slider\">\n            <Carousel\n              swipeable={false}\n              draggable={false}\n              responsive={responsive}\n              ssr={true} // means to render carousel on server-side.\n              keyBoardControl={true}\n              containerClass=\"carousel-container\"\n              removeArrowOnDeviceType={[\"tablet\", \"mobile\"]}\n              dotListClass=\"custom-dot-list-style\"\n              itemClass=\"carousel-item-padding-40-px\"\n              arrows={false}\n              customButtonGroup={\n                <CustomButtonGroup>\n                  <span className=\"link-text\">See more</span>\n                </CustomButtonGroup>\n              }\n              renderButtonGroupOutside={true}\n              customTransition={\"transform 500ms ease-in-out\"}\n            >\n              {providerList?.map((item) => (\n                <div\n                  key={item.provider_id}\n                  onClick={(e) => handleOnClickProvider(e, item.provider_id)}\n                >\n                  <LazyLoad style={{ width: \"100%\" }}>\n                    <div\n                      className=\"provider-card-container\"\n                      key={item.provider_id}\n                      style={{\n                        backgroundImage: `url(${item.profile_pic})`,\n                        backgroundPosition: \"center\",\n                        backgroundRepeat: \"no-repeat\",\n                        backgroundSize: \"cover\",\n                      }}\n                    >\n                      <div className=\"provider-interaction-wrapper\">\n                        <FontAwesomeIcon\n                          className=\"icon-for-liking\"\n                          style={{\n                            zIndex: 1,\n                            marginTop: 5,\n                          }}\n                          onClick={(e) =>\n                            changeFavorite(item.isFavorite, item.provider_id, e)\n                          }\n                          icon={item.isFavorite ? faHeart2 : faHeart1}\n                        />\n                        {!item.tag_name && (\n                          <div className=\"provider-card-tag\">\n                            {item.tag_name || \"3 orders until €5 reward\"}\n                          </div>\n                        )}\n                      </div>\n                      {currentTime < closeTime && currentTime > openTime ? (\n                        <figcaption className=\"figcaption-wrapper\">\n                          <div className=\"btn-schedule-wrapper\">\n                            <FontAwesomeIcon\n                              icon={faCalendarPlus}\n                              className=\"icon-btn\"\n                            />\n                            <span>Schedule order</span>\n                          </div>\n                          <span className=\"a1-description\">\n                            Opens Saturday 2:15 PM\n                          </span>\n                        </figcaption>\n                      ) : (\n                        <Fragment></Fragment>\n                      )}\n                    </div>\n                  </LazyLoad>\n\n                  <div className=\"product-info-wrapper\">\n                    <span className=\"p-info-main-text\">\n                      {item.provider_name}\n                    </span>\n                    <div className=\"p-info-rating\">{item.rating || \"5.0\"}</div>\n                  </div>\n                  <div className=\"product-sub-info-wrapper\">\n                    <FontAwesomeIcon\n                      icon={faGetPocket}\n                      className=\"sub-info-icon\"\n                    />\n                    &nbsp;•&nbsp;\n                    <span className=\"p-sub-info-main-text\">\n                      $ {item.price_range}\n                    </span>\n                    &nbsp;•&nbsp;\n                    <div className=\"p-sub-info-cooking-time\">\n                      {`${item.estimated_cooking_time} mins` || \"30-45 mins\"}\n                    </div>\n                    &nbsp;•&nbsp;\n                    <span className=\"p-sub-info-main-text\">\n                      {(item.distance / 1000).toFixed(2)} km\n                    </span>\n                  </div>\n                </div>\n              ))}\n            </Carousel>\n          </div>\n        ) : (\n          <ProviderGroupSkeleton col={4} />\n        )}\n      </div>\n    </Fragment>\n  );\n}\n\nProviderGroup.propTypes = {\n  user: PropTypes.object.isRequired,\n  product: PropTypes.object.isRequired,\n  addFavoriteProvider: PropTypes.func.isRequired,\n  removeFavoriteProvider: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.UserReducer,\n  product: state.ProductReducer,\n});\n\nexport default withRouter(\n  connect(mapStateToProps, { addFavoriteProvider, removeFavoriteProvider })(\n    ProviderGroup\n  )\n);\n"]},"metadata":{},"sourceType":"module"}